<!-- product.hbs -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{product.name}}</title>
    <link rel="stylesheet" href="path/to/your/styles.css">
</head>
<body>



   
       <form action="/category" method="POST"  enctype="multipart/form-data">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required>

        <label for="description">Description:</label>
        <textarea id="description" name="description" required></textarea>



<label for="image">Choose an image:</label>
   <input type="file" name="image">
    <button type="submit">Upload</button>
        <button type="submit">Submit</button>
        
    </form>





           <h1>Category List</h1>

{{!-- Opening each block --}}
<!-- views/category.hbs -->
{{#each categories}}
    <div>
        <h3>{{title}}</h3>
        <p>{{description}}</p>
        <img src="{{image.url}}" alt="{{title}} Image">

        <!-- Form for deleting the category -->
        <form class="delete-form">
            <input type="hidden" name="id" value="{{_id}}">
<a    href="/delete">
<div class="button2">
    <button class="bttn2" style="width: 120px; height: 50px;" type="button" onclick="deleteUser()">Delete</button></a>     
       </form>
    </div>
{{else}}
    <p>No categories found.</p>
{{/each}}

{{!-- </div>
<a    href="/delete">
<div class="button2">
 <button  class="bttn2"  style="width: 120px ; height:50px ; " type="button"  onclick="deleteUser()">Delete</button>
</a>
</div> --}}
 {{!-- <a href="/delete/{{_id}}">
  <div class="button2">
    <button class="bttn2" style="width: 120px; height: 50px;" type="button" onclick="deleteUser()">Delete</button>
  </div>
</a> --}}

<script>
  function deleteUser() {
    const categoryId = document.querySelector('input[name="id"]').value;

    fetch(`/delete/${categoryId}`, {
      method: 'DELETE',
    })
      .then((response) => {
        if (!response.ok) {
          throw new Error('Delete request failed');
        } else {
          document.location.href = "/";
        }
      })
      .catch((error) => {
        console.error(error);
      });
  }
</script>


</body>
</html>
